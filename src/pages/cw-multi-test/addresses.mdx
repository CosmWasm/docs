---
tags: ["multitest", "addresses"]
---

# Addresses

## User address

### App

`App.api().addr_make`

> Default prefix is `cosmwasm`, default format is `Bech32`

```rust showLineNumbers copy /addr_make/
use cw_multi_test::App;

let app = App::default();

let addr = app.api().addr_make("owner");

assert_eq!(
    "cosmwasm1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqs2g053y",
    addr.as_str()
);
```

> `Bech32` with custom prefix

```rust showLineNumbers copy /addr_make/ /MockApiBech32::new/
use cw_multi_test::{no_init, AppBuilder, MockApiBech32};

let app = AppBuilder::default()
    .with_api(MockApiBech32::new("nebula"))
    .build(no_init);

let addr = app.api().addr_make("owner");

assert_eq!(
    "nebula1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsvsqrvp",
    addr.as_str()
);
```

> `Bech32m` with custom prefix

```rust showLineNumbers copy /addr_make/ /MockApiBech32m::new/
use cw_multi_test::{no_init, AppBuilder, MockApiBech32m};

let app = AppBuilder::default()
    .with_api(MockApiBech32m::new("nebula"))
    .build(no_init);

let addr = app.api().addr_make("owner");

assert_eq!(
    "nebula1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsevs0fr",
    addr.as_str()
);
```

> `Bech32m` with custom prefix equal to default prefix `cosmwasm`

```rust showLineNumbers copy /addr_make/ /MockApiBech32m::new/
use cw_multi_test::{no_init, AppBuilder, MockApiBech32m};

let app = AppBuilder::default()
    .with_api(MockApiBech32m::new("cosmwasm"))
    .build(no_init);

let addr = app.api().addr_make("owner");

assert_eq!(
    "cosmwasm1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsl5lc5x",
    addr.as_str()
);
```

### IntoAddr

`cw_multi_test::IntoAddr`

> Default prefix is `cosmwasm`, default format is `Bech32`

```rust showLineNumbers copy
use cw_multi_test::IntoAddr;

let addr = "owner".into_addr();

assert_eq!(
    "cosmwasm1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqs2g053y",
    addr.as_str()
)
```

> `Bech32m` with custom prefix

```rust showLineNumbers copy
use cw_multi_test::IntoAddr;

let addr = "owner".into_addr_with_prefix("nebula");

assert_eq!(
    "nebula1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsvsqrvp",
    addr.as_str()
);
```

### IntoBech32

`cw_multi_test::IntoBech32`

> Default prefix is `cosmwasm`, format is always `Bech32`

```rust showLineNumbers copy
use cw_multi_test::IntoBech32;

let addr = "owner".into_bech32();

assert_eq!(
    "cosmwasm1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqs2g053y",
    addr.as_str()
);
```

> Custom prefix, format is always `Bech32`

```rust showLineNumbers copy
use cw_multi_test::IntoBech32;

let addr = "owner".into_bech32_with_prefix("nebula");

assert_eq!(
    "nebula1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsvsqrvp",
    addr.as_str()
)
```

### IntoBech32m

`cw_multi_test::IntoBech32m`

> Default prefix is `cosmwasm`, format is always `Bech32m`

```rust showLineNumbers copy
use cw_multi_test::IntoBech32m;

let addr = "owner".into_bech32m();

assert_eq!(
    "cosmwasm1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsl5lc5x",
    addr.as_str()
);
```

> Custom prefix, format is always `Bech32m`

```rust showLineNumbers copy
use cw_multi_test::IntoBech32m;

let addr = "owner".into_bech32m_with_prefix("nebula");

assert_eq!(
    "nebula1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsevs0fr",
    addr.as_str()
);
```

### MockApi

`cosmwasm_std::testing::MockApi`

> Default prefix is `cosmwasm`, format is always `Bech32`

```rust showLineNumbers copy
use cosmwasm_std::testing::MockApi;

let addr = MockApi::default().addr_make("owner");

assert_eq!(
    "cosmwasm1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqs2g053y",
    addr.as_str()
);
```

> Custom prefix, format is always `Bech32`

```rust showLineNumbers copy
use cosmwasm_std::testing::MockApi;

let addr = MockApi::default().with_prefix("nebula").addr_make("owner");

assert_eq!(
    "nebula1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsvsqrvp",
    addr.as_str()
);
```

### MockApiBech32

`cw_multi_test::MockApiBech32`

> Default prefix is `cosmwasm`, format is always `Bech32`

```rust showLineNumbers copy
use cw_multi_test::MockApiBech32;

let addr = MockApiBech32::new("cosmwasm").addr_make("owner");

assert_eq!(
    "cosmwasm1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqs2g053y",
    addr.as_str()
);
```

> Custom prefix, format is always `Bech32`

```rust showLineNumbers copy
use cw_multi_test::MockApiBech32;

let addr = MockApiBech32::new("nebula").addr_make("owner");

assert_eq!(
    "nebula1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsvsqrvp",
    addr.as_str()
);
```

### MockApiBech32m

`cw_multi_test::MockApiBech32m`

> Default prefix is `cosmwasm`, format is always `Bech32m`

```rust showLineNumbers copy
use cw_multi_test::MockApiBech32m;

let addr = MockApiBech32m::new("cosmwasm").addr_make("owner");

assert_eq!(
    "cosmwasm1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsl5lc5x",
    addr.as_str()
);
```

> Custom prefix, format is always `Bech32m`

```rust showLineNumbers copy
use cw_multi_test::MockApiBech32m;

let addr = MockApiBech32m::new("nebula").addr_make("owner");

assert_eq!(
    "nebula1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsevs0fr",
    addr.as_str()
);
```

### Initialization callback

```rust showLineNumbers copy /addr_make/
use cw_multi_test::App;

let app = App::new(|router, api, storage| {
    let addr = api.addr_make("owner");
    assert_eq!(
        "cosmwasm1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqs2g053y",
        addr.as_str()
    );
});
```

```rust {4} showLineNumbers copy /addr_make/
use cw_multi_test::{AppBuilder, MockApiBech32};

let app = AppBuilder::default()
    .with_api(MockApiBech32::new("nebula"))
    .build(|router, api, storage| {
        let addr = api.addr_make("owner");
        assert_eq!(
            "nebula1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsvsqrvp",
            addr.as_str()
        );
    });
```

```rust {4} showLineNumbers copy /addr_make/
use cw_multi_test::{AppBuilder, MockApiBech32m};

let app = AppBuilder::default()
    .with_api(MockApiBech32m::new("nebula"))
    .build(|router, api, storage| {
        let addr = api.addr_make("owner");
        assert_eq!(
            "nebula1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsevs0fr",
            addr.as_str()
        );
    });
```

```rust {4} showLineNumbers copy /addr_make/
use cw_multi_test::{AppBuilder, MockApiBech32m};

let app = AppBuilder::default()
    .with_api(MockApiBech32m::new("cosmwasm"))
    .build(|router, api, storage| {
        let addr = api.addr_make("owner");
        assert_eq!(
            "cosmwasm1fsgzj6t7udv8zhf6zj32mkqhcjcpv52yph5qsdcl0qt94jgdckqsl5lc5x",
            addr.as_str()
        );
    });
```

## Contract address

WIP

## Validator address

WIP
