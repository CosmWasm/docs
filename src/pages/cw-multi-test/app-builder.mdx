---
tags: ["multitest", "AppBuilder"]
---

[AppBuilder]: https://docs.rs/cw-multi-test/latest/cw_multi_test/struct.AppBuilder.html
[Builder Pattern]: https://en.wikipedia.org/wiki/Builder_pattern

# `AppBuilder`

[AppBuilder] is an implementation of the [Builder Pattern] that provides a flexible and modular way to
construct the [App](app) blockchain simulator. It allows smart contract developers to configure various
components of the blockchain simulator (e.g., Bank, Staking, Gov, IBC) individually through dedicated
`with_*` methods. Each method modifies and returns a new instance of the builder, enabling method chaining
for a fluent interface. The [build](#build) method finalizes the construction process, ensuring that
all components are correctly initialized and integrated.

The following sections detail all builder functions, providing specific usage examples.

## `default`

WIP

## `new`

WIP

## `new_custom`

WIP

## `with_api`

WIP

## `with_bank`

WIP

## `with_block`

```rust showLineNumbers {15} /with_block/
use cosmwasm_std::{BlockInfo, Timestamp};
use cw_multi_test::{no_init, AppBuilder};

// create the chain builder
let builder = AppBuilder::default();

// prepare the custom block
let block = BlockInfo {
    height: 21,
    time: Timestamp::from_nanos(1_571_797_419_879_305_544),
    chain_id: "milky-way-testnet".to_string(),
};

// build the chain initialized with the custom block
let app = builder.with_block(block).build(no_init);

// get the current block properties
let block = app.block_info();

// now the block height is 21
assert_eq!(21, block.height);

// now the block timestamp is Wed Oct 23 2019 02:23:39 GMT+0000
assert_eq!(1_571_797_419_879_305_544, block.time.nanos());

// now the chain identifier is "milky-way-testnet"
assert_eq!("milky-way-testnet", block.chain_id);
```

## `with_custom`

WIP

## `with_distribution`

WIP

## `with_gov`

WIP

## `with_ibc`

WIP

## `with_staking`

WIP

## `with_stargate`

WIP

## `with_storage`

WIP

## `with_wasm`

WIP

## `build`

WIP
